--- a/libgcc/config/t-darwin
+++ b/libgcc/config/t-darwin
@@ -18,6 +18,10 @@
 emutls_s.o: HOST_LIBGCC2_CFLAGS += \
   -DEMUTLS_ATTR='__attribute__((__weak__,__visibility__("default")))'
 
+# Fallback: if no emutls.S, build emutls_s.o from the C version
+emutls_s.o: $(srcdir)/emutls.c
+	$(CC_FOR_TARGET) $(XGCC_FLAGS_FOR_TARGET) $$TFLAGS $(HOST_LIBGCC2_CFLAGS) -I$(top_builddir)/gcc/config -c $< -o $@
+
 # Make the emutls crt as a convenience lib so that it can be linked
 #Â optionally, use the shared version so that we can link with DSO.
 libemutls_w.a: emutls_s.o
@@ -58,6 +62,10 @@
 heap-trampoline_s.o: HOST_LIBGCC2_CFLAGS += \
   -DHEAP_T_ATTR='__attribute__((__weak__,__visibility__("default")))'
 
+# Fallback: if no emutls.S, build emutls_s.o from the C version
+heap-trampoline_s.o: $(srcdir)/heap-trampoline.c
+	$(CC_FOR_TARGET) $(XGCC_FLAGS_FOR_TARGET) $$TFLAGS $(HOST_LIBGCC2_CFLAGS) -I$(top_builddir)/gcc/config -c $< -o $@
+
 # Make a heap trampoline support CRT so that it can be linked optionally, use
 # the shared version so that we can link with DSOs.
 libheapt_w.a: heap-trampoline_s.o
